<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data noupdate="1">
    <!--Research Model Fields-->
    <record model="ir.model.fields" id="research_product">
        <field name="field_description">Product</field>
        <field name="name">x_product_id</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="complete_name" eval="False"/>
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="relation">product.product</field>
        <field name="ttype">many2one</field>
    </record>
    <record model="ir.model.fields" id="research_product_img">
        <field name="field_description">Product Image</field>
        <field name="name">x_product_image</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="related">x_product_id.product_tmpl_id.image</field>
        <field name="ttype">binary</field>
    </record>
    <record model="ir.model.fields" id="research_product_default_code">
        <field name="field_description">SKU</field>
        <field name="name">x_product_sku</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="related">x_product_id.product_tmpl_id.default_code</field>
        <field name="ttype">char</field>
    </record>
    <record model="ir.model.fields" id="research_product_standard_price">
        <field name="field_description">Cost</field>
        <field name="name">x_product_cost</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="related">x_product_id.product_tmpl_id.standard_price</field>
        <field name="ttype">float</field>
    </record>
    <record model="ir.model.fields" id="research_product_vendor">
        <field name="field_description">Supplier</field>
        <field name="name">x_product_vendor</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="relation">res.partner</field>
        <field name="ttype">many2one</field>
    </record>
    <record model="ir.model.fields" id="research_product_in_stock">
        <field name="field_description">When in Stock</field>
        <field name="name">x_product_in_stock</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="ttype">date</field>
    </record>
    <record model="ir.model.fields" id="research_product_lead_time">
        <field name="field_description">Lead Time</field>
        <field name="name">x_product_lead_time</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="ttype">char</field>
    </record>
    <record model="ir.model.fields" id="research_Job">
        <field name="field_description">Job</field>
        <field name="name">x_job_id</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="relation">crm.lead</field>
        <field name="ttype">many2one</field>
    </record>
    <record model="ir.model.fields" id="research_approved">
        <field name="field_description">Approved</field>
        <field name="name">x_approved</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="selection">[['0', 'Not Approved'], ['1', 'Approved']]</field>
        <field name="ttype">selection</field>
    </record>
    <record model="ir.model.fields" id="research_color">
        <field name="field_description">Color Index</field>
        <field name="name">x_color</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="readonly" eval="True"/>
        <field name="ttype">integer</field>
        <field name="depends">x_approved</field>
        <field name="compute"><![CDATA[for record in self:
          if record.x_approved == '1':
            record['x_color'] = 5
          else:
            record['x_color'] = 1
        ]]></field>
    </record>
    <record model="ir.model.fields" id="research_type">
        <field name="field_description">Type</field>
        <field name="name">x_type</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="required" eval="True"/>
        <field name="relation">sale.layout_category</field>
        <field name="ttype">many2one</field>
    </record>

    <record model="ir.model.fields" id="research_notes">
        <field name="field_description">Description Notes</field>
        <field name="name">x_notes</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="ttype">text</field>
    </record>
    <record model="ir.model.fields" id="research_internal_notes">
        <field name="field_description">Internal Notes</field>
        <field name="name">x_internal_notes</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="ttype">text</field>
    </record>
    <record model="ir.model.fields" id="research_quantity">
        <field name="field_description">Quantity</field>
        <field name="name">x_quantity</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="ttype">float</field>
    </record>
    <record model="ir.model.fields" id="research_price">
        <field name="field_description">Sell Price</field>
        <field name="name">x_price</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="ttype">float</field>
    </record>
    <record model="ir.model.fields" id="research_subtotal">
        <field name="field_description">Subtotal</field>
        <field name="name">x_subtotal</field>
        <field name="model">x_crm.research</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_research" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="readonly" eval="True"/>
        <field name="ttype">float</field>
        <field name="depends">x_quantity,x_price</field>
        <field name="compute"><![CDATA[for record in self:
          record['x_subtotal'] = record.x_quantity * record.x_price
        ]]></field>
    </record>
    <!--CRM Progress Fields -->
    <record model="ir.model.fields" id="progress_name">
        <field name="field_description">Progress Name</field>
        <field name="name">x_name</field>
        <field name="model">x_crm.progress</field>
        <field name="model_id" ref="gs_custo_ps.model_crm_progress" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="ttype">char</field>
    </record>
    <!--CRM LEAD FIELDS -->
    <record model="ir.model.fields" id="lead_code">
        <field name="field_description">Job Number</field>
        <field name="name">x_job_number</field>
        <field name="model">crm.lead</field>
        <field name="model_id" ref="crm.model_crm_lead" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="ttype">char</field>
    </record>
    <record model="ir.model.fields" id="lead_research">
        <field name="field_description">Research</field>
        <field name="name">x_research_ids</field>
        <field name="model">crm.lead</field>
        <field name="model_id" ref="crm.model_crm_lead" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="relation">x_crm.research</field>
        <field name="relation_field">x_job_id</field>
        <field name="ttype">one2many</field>
    </record>
    <record model="ir.model.fields" id="lead_invoiced">
        <field name="field_description">Sales Invoices</field>
        <field name="name">x_invoiced</field>
        <field name="model">crm.lead</field>
        <field name="model_id" ref="crm.model_crm_lead" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="readonly" eval="True"/>
        <field name="ttype">float</field>
        <field name="depends">order_ids.invoice_ids.state,order_ids.invoice_ids.amount_total</field>
        <field name="compute"><![CDATA[for record in self:
          total_invoiced = 0
          for order in record.order_ids:
            for invoice in order.invoice_ids:
              if invoice.state in ['open','paid']:
                total_invoiced += invoice.amount_total
          record['x_invoiced'] = total_invoiced
        ]]></field>
    </record>
    <record model="ir.model.fields" id="button_lead_invoiced">
        <field name="field_description">Sales Invoices</field>
        <field name="name">x_button_invoiced</field>
        <field name="model">crm.lead</field>
        <field name="model_id" ref="crm.model_crm_lead" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="False"/>
        <field name="readonly" eval="True"/>
        <field name="ttype">float</field>
        <field name="compute"><![CDATA[for record in self:
          total_invoiced = 0
          for order in record.order_ids:
            for invoice in order.invoice_ids:
              if invoice.state in ['open','paid']:
                total_invoiced += invoice.amount_total
          record['x_button_invoiced'] = total_invoiced
        ]]></field>
    </record>
    <record model="ir.model.fields" id="lead_billed">
        <field name="field_description">Vendor Bills</field>
        <field name="name">x_billed</field>
        <field name="model">crm.lead</field>
        <field name="model_id" ref="crm.model_crm_lead" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="False"/>
        <field name="readonly" eval="True"/>
        <field name="ttype">float</field>
        <field name="compute"><![CDATA[for record in self:
          sale_orders = record.order_ids.mapped('name')
          purchase_orders = record.env['purchase.order'].search([('origin','in',sale_orders)])
          total_billed = 0
          for purchase in purchase_orders:
            for invoice in purchase.invoice_ids:
              if invoice.state in ['open','paid']:
                total_billed += invoice.amount_total
          record['x_billed'] = total_billed
        ]]></field>
    </record>
    <record model="ir.model.fields" id="button_purchase_order">
        <field name="field_description">Purchase Order</field>
        <field name="name">x_button_purchase</field>
        <field name="model">crm.lead</field>
        <field name="model_id" ref="crm.model_crm_lead" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="False"/>
        <field name="readonly" eval="True"/>
        <field name="ttype">float</field>
        <field name="compute"><![CDATA[for record in self:
          sale_orders = record.order_ids.mapped('name')
          purchase_orders = record.env['purchase.order'].search([('origin','in',sale_orders)])
          total_billed = 0
          for purchase in purchase_orders:
                total_billed += purchase.amount_total
          record['x_button_purchase'] = total_billed
        ]]></field>
    </record>
    <record model="ir.model.fields" id="lead_profit">
        <field name="field_description">Profit</field>
        <field name="name">x_profit</field>
        <field name="model">crm.lead</field>
        <field name="model_id" ref="crm.model_crm_lead" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="False"/>
        <field name="readonly" eval="True"/>
        <field name="ttype">float</field>
        <field name="compute"><![CDATA[for record in self:
          record['x_profit'] = record.x_invoiced - record.x_billed
        ]]></field>
    </record>
    <record model="ir.model.fields" id="lead_margin">
        <field name="field_description">Margin</field>
        <field name="name">x_margin</field>
        <field name="model">crm.lead</field>
        <field name="model_id" ref="crm.model_crm_lead" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="readonly" eval="True"/>
        <field name="ttype">float</field>
        <field name="depends">x_profit,x_invoiced,x_billed</field>
        <field name="compute"><![CDATA[for record in self:
        if record.x_invoiced > 0:
          record['x_margin'] = (record.x_profit/record.x_invoiced) * 100
        else:
          record['x_margin'] = 0
        ]]></field>
    </record>
    <record model="ir.model.fields" id="lead_progress">
        <field name="field_description">Progress</field>
        <field name="name">x_progress</field>
        <field name="model">crm.lead</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="relation">x_crm.progress</field>
        <field name="ttype">many2one</field>
    </record>
    <!--RES.PARTNER FIELDS-->
    <record model="ir.model.fields" id="company_name">
        <field name="field_description">Company Name</field>
        <field name="name">x_company_name</field>
        <field name="model">res.partner</field>
        <field name="model_id" ref="base.model_res_partner" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="ttype">char</field>
    </record>
    <record model="ir.model.fields" id="delivery_hours">
        <field name="field_description">Delivery Hours</field>
        <field name="name">x_delivery_hours</field>
        <field name="model">res.partner</field>
        <field name="model_id" ref="base.model_res_partner" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="ttype">char</field>
    </record>
    <record model="ir.model.fields" id="lift_gate">
        <field name="field_description">Lift Gate</field>
        <field name="name">x_lift_gate</field>
        <field name="model">res.partner</field>
        <field name="model_id" ref="base.model_res_partner" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="ttype">boolean</field>
    </record>
    <record model="ir.model.fields" id="loading_dock">
        <field name="field_description">Loading Dock</field>
        <field name="name">x_loading_dock</field>
        <field name="model">res.partner</field>
        <field name="model_id" ref="base.model_res_partner" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="ttype">boolean</field>
    </record>
    <record model="ir.model.fields" id="business">
        <field name="field_description">Business</field>
        <field name="name">x_business</field>
        <field name="model">res.partner</field>
        <field name="model_id" ref="base.model_res_partner" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="ttype">boolean</field>
    </record>
    <record model="ir.model.fields" id="call_ahead">
        <field name="field_description">Call Ahead</field>
        <field name="name">x_call_ahead</field>
        <field name="model">res.partner</field>
        <field name="model_id" ref="base.model_res_partner" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="ttype">boolean</field>
    </record>
    <record model="ir.model.fields" id="product_handle">
        <field name="field_description">Handle</field>
        <field name="name">x_handle</field>
        <field name="model">product.template</field>
        <field name="model_id" ref="product.model_product_template" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="ttype">char</field>
    </record>
    <record model="ir.model.fields" id="purchase_order_job_number">
        <field name="field_description">Job #</field>
        <field name="name">x_job_number</field>
        <field name="model">purchase.order</field>
        <field name="model_id" ref="purchase.model_purchase_order" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="False"/>
        <field name="readonly" eval="True"/>
        <field name="ttype">char</field>
        <field name="compute"><![CDATA[for record in self:
        sale_order = record.env['sale.order'].search([('name','=',record.origin)],limit=1)
        if sale_order:
          record['x_job_number'] = sale_order.opportunity_id.x_job_number
        ]]></field>
    </record>
    <record model="ir.model.fields" id="purchase_order_shipper">
        <field name="field_description">Shipping Company</field>
        <field name="name">x_shipper</field>
        <field name="model">purchase.order</field>
        <field name="model_id" ref="purchase.model_purchase_order" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="True"/>
        <field name="readonly" eval="False"/>
        <field name="relation">res.partner</field>
        <field name="ttype">many2one</field>
    </record>
    <record model="ir.model.fields" id="stock_picking_shipper">
        <field name="field_description">Shipping Company</field>
        <field name="name">x_shipper</field>
        <field name="model">stock.picking</field>
        <field name="model_id" ref="sale_stock.model_stock_picking" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="False"/>
        <field name="readonly" eval="True"/>
        <field name="related">purchase_id.x_shipper</field>
        <field name="relation">res.partner</field>
        <field name="ttype">many2one</field>
    </record>
    <record model="ir.model.fields" id="stock_picking_job #">
        <field name="field_description">Job #</field>
        <field name="name">x_job_number</field>
        <field name="model">stock.picking</field>
        <field name="model_id" ref="sale_stock.model_stock_picking" />
        <field name="on_delete">set null</field>
        <field name="selectable" eval="True"/>
        <field name="state">manual</field>
        <field name="store" eval="False"/>
        <field name="readonly" eval="True"/>
        <field name="related">purchase_id.x_job_number</field>
        <field name="ttype">char</field>
    </record>
  </data>
</odoo>
